(function(n){function t(t,i){function nt(){return d.update(),it(),d}function tt(){var n=w.toLowerCase(),c=parseInt(r.obj.css(n),10),l=parseInt(e.obj.css(n),10);u=Math.max(0,Math.min(u,c-l));f.obj.css(h,u/s.ratio);r.obj.css(h,-u);y.start=f.obj.offset()[h];s.obj.css(n,o[i.axis]);o.obj.css(n,o[i.axis]);f.obj.css(n,f[i.axis]);t.trigger("tsb.scrolled",u)}function it(){f.obj.bind("mousedown",g);o.obj.bind("mouseup",p);b&&(e.obj[0].ontouchstart=function(n){1===n.touches.length&&(g(n.touches[0]),n.stopPropagation())});i.scroll&&window.addEventListener?(v[0].addEventListener("DOMMouseScroll",k,!1),v[0].addEventListener("mousewheel",k,!1),v[0].addEventListener("MozMousePixelScroll",function(n){n.preventDefault()},!1)):i.scroll&&(v[0].onmousewheel=k)}function g(t){n("body").addClass("noSelect");var i=parseInt(f.obj.css(h),10);y.start=l?t.pageX:t.pageY;c.start=i==="auto"?0:i;n(document).bind("mousemove",p);n(document).bind("mouseup",a);f.obj.bind("mouseup",a);b&&(document.ontouchmove=function(n){n.preventDefault();p(n.touches[0])});document.ontouchend=a}function k(o){if(r.ratio<1){var c=o||window.event,l=c.wheelDelta?c.wheelDelta/120:-c.detail/3;u-=l*i.wheel;u=Math.min(r[i.axis]-e[i.axis],Math.max(0,u));f.obj.css(h,u/s.ratio);r.obj.css(h,-u);(i.lockscroll||u!==r[i.axis]-e[i.axis]&&u!==0)&&(c=n.event.fix(c),c.preventDefault());t.trigger("tsb.scrolled",u)}}function p(n){r.ratio<1&&(c.now=i.invertscroll&&b?Math.min(o[i.axis]-f[i.axis],Math.max(0,c.start+(y.start-(l?n.pageX:n.pageY)))):Math.min(o[i.axis]-f[i.axis],Math.max(0,c.start+((l?n.pageX:n.pageY)-y.start))),u=c.now*s.ratio,r.obj.css(h,-u),f.obj.css(h,c.now),t.trigger("tsb.scrolled",u))}function a(){n("body").removeClass("noSelect");n(document).unbind("mousemove",p);n(document).unbind("mouseup",a);f.obj.unbind("mouseup",a);document.ontouchmove=document.ontouchend=null}var d=this,v=t,e={obj:n(".viewport",t)},r={obj:n(".overview",t)},s={obj:n(".scrollbar",t)},o={obj:n(".track",s.obj)},f={obj:n(".thumb",s.obj)},l=i.axis==="x",h=l?"left":"top",w=l?"Width":"Height",u=0,c={start:0,now:0},y={},b="ontouchstart"in document.documentElement;return this.update=function(n){e[i.axis]=e.obj[0]["offset"+w];r[i.axis]=r.obj[0]["scroll"+w];r.ratio=e[i.axis]/r[i.axis];s.obj.toggleClass("disable",r.ratio>=1);o[i.axis]=i.size==="auto"?e[i.axis]:i.size;f[i.axis]=Math.min(o[i.axis],Math.max(0,i.sizethumb==="auto"?o[i.axis]*r.ratio:i.sizethumb));s.ratio=i.sizethumb==="auto"?r[i.axis]/o[i.axis]:(r[i.axis]-e[i.axis])/(o[i.axis]-f[i.axis]);u=n==="relative"&&r.ratio<=1?Math.min(r[i.axis]-e[i.axis],Math.max(0,u)):0;u=n==="bottom"&&r.ratio<=1?r[i.axis]-e[i.axis]:isNaN(parseInt(n,10))?u:parseInt(n,10);tt()},nt()}n(function(){var t=n("#aside-second");if(t.length){var f=t.position().top,e=160,i=200,r=0,u,o=n(window).on("scroll resize nwazet.addtocart nwazet.removefromcart nwazet.cartupdated",function(){u||(u=setTimeout(s,10))}).on("nwazet.cartupdated",function(){var t=n(".minicart-scroll-zone").on("tsb.scrolled",function(n,t){r=Math.max(0,u.height()-i-t)}),o=t.find(".scrollbar"),f=t.find(".viewport"),u=f.find("ul"),e;u.height()>i?(f.height(i),e=r,t.tinyscrollbar(),t.tinyscrollbar_update(u.height()-i-(r=e))):(f.height(u.height()),o.hide(),r=0)}),s=function(){var i=o.scrollTop(),r=n("#layout-content"),c=r.offset().left+r.width()+"px",s=t.height(),h=n("body").height();t.css({position:"fixed",top:i<f-10?f-i+"px":i+s+e<h?"10px":h-s-e-i+"px",left:c});u=null};n("button.cancel").on("click",function(){var t=n(this),i;t&&(i=n("#"+t.data("cancels")),i&&(i.val("").focus(),t.removeClass("enabled")))}).each(function(){var t=n(this);n("#"+t.data("cancels")).on("keyup",function(){var i=n(this);t.toggleClass("enabled",i.val()!=="")})})}});n.tiny=n.tiny||{};n.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}};n.fn.tinyscrollbar=function(i){var r=n.extend({},n.tiny.scrollbar.options,i);return this.each(function(){n(this).data("tsb",new t(n(this),r))}),this};n.fn.tinyscrollbar_update=function(t){return n(this).data("tsb").update(t)}})(jQuery);
/*
//# sourceMappingURL=nwazet.min.js.map
*/